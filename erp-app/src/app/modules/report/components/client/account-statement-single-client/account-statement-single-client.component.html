<div class="row">
    <div class="col-md-12">
        <!-- DATA TABLE -->
        <h3 class="title-5 m-b-35">{{'Reports.AccountStatementForSingleClient' |translate}}</h3>

        <!--Filters-->
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header">{{'General.Filters'|translate}}</div>
                    <div class="card-body">

                        <div class="row">
                            <div class="col-lg-6">
                                <label class="form-label" for="clientId">{{'General.Client'|translate}}</label>
                                <ng-select name="clientId" id="clientId" class="ng-select-custom"
                                    [(ngModel)]="selectedClientId" (ngModelChange)="onClientChange()">
                                    <!-- <ng-template ng-header-tmp>
                                        <input style="width: 100%; line-height: 24px" type="text"
                                            (change)="onClientChange($event)" />
                                    </ng-template> -->
                                    <ng-option value=" null" disabled>{{'General.SelectClient'|translate}}</ng-option>
                                    <ng-option *ngFor="let item of clientList" [value]="item.id">
                                        {{item.fullName}} {{item.phoneNumber1?"|"+item.phoneNumber1:""}}  {{item.phoneNumber2?"|"+item.phoneNumber2:""}}
                                    </ng-option>
                                </ng-select>
                            </div>
                           
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-label" for="dateFrom">{{'General.DateFrom'|translate}}</label>
                                    <input [(ngModel)]="searchDateFrom" type="date" class="form-control"
                                        #dateFrom="ngModel" [value]="searchDateFrom" aria-describedby="helpId">

                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-label" for="dateTo">{{'General.DateTo'|translate}}</label>
                                    <input [(ngModel)]="searchDateTo" type="date" id="dateTo" class="form-control"
                                        #dateTo="ngModel" name="dateTo" [value]="searchDateTo"
                                        aria-describedby="helpId">

                                </div>
                            </div>
                            <div class="col-lg-3">
                                <span>
                                    <button (click)="getAllByClientId()"
                                        class="au-btn au-btn-icon au-btn--blue au-btn--small btn-search mt-4">
                                        <i class="zmdi zmdi-search"></i>{{'General.Search'|translate}}
                                    </button>
                                </span>
                                <span>
                                    <button (click)="searchAndPrint()" type="button"
                                        class="au-btn au-btn-icon au-btn--green au-btn--small btn-search mt-4">
                                        {{'General.Print' |translate}}
                                    </button>
                                </span>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!--End Filters-->

        <div class="table-responsive table-responsive-data2" id="accountStatementSingleClient">
            <div class="row">
                <div class="col-lg-12">
                    <table class="table">
                        <tr>
                            <td class="text-right">العميل</td>
                            <td class="text-center text-bold"> {{selectedClient.fullName}}</td>
                            <td class="text-left">Client</td>
                        </tr>
                        <tr>
                            <td class="text-right">الرصيد</td>
                            <td class="text-center text-bold">{{currentBalance}}</td>
                            <td class="text-left">Balance</td>
                        </tr>
                    </table>
                </div>


            </div>
            <br>
            <table class="table-report table table-data2">
                <thead class="table-header-bc">
                    <tr>
                        <th>#</th>
                        <th class="table-header-fc">{{'General.Date' |translate}}</th>
                        <th class="table-header-fc">{{'General.PaymentMethod' |translate}}</th>
                        <th class="table-header-fc">{{'General.Debit' |translate}}</th>
                        <th class="table-header-fc">{{'General.Credit' |translate}}</th>
                        <th class="table-header-fc">{{'General.RefNo' |translate}}</th>
                        <th class="table-header-fc">{{'General.Notes' |translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="tr-shadow" *ngFor="let item of clientVendorBalanceList;let i=index;">
                        <td>{{i+1}}</td>
                        <td>{{item.date}}</td>
                        <td>
                            <span *ngIf="item.paymentMethodId">
                                {{'PaymentMethodEnum.'+paymentMethodEnum[item.paymentMethodId] |translate}}
                            </span>
                        </td>
                        <td>{{item.debit}}</td>
                        <td>{{item.credit}}</td>
                        <td>{{item.refNo}}</td>
                        <td>
                            <a *ngIf="item.billId && item.billType==billType.Sales"
                                [routerLink]="['/sales-bill/sales-bill-form-view/'+item.billId]">
                                {{item.notes}}</a>
                            <a *ngIf="item.billId && item.billType==billType.Purchases"
                                [routerLink]="['/purchases-bill/purchases-bill-form-view/'+item.billId]">
                                {{item.notes}}</a>
                            <span *ngIf="!item.billId"> {{item.notes}}</span>

                        </td>

                    </tr>
                </tbody>

            </table>

        </div>
        <!-- END DATA TABLE -->
    </div>
</div>